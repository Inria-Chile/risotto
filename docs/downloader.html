---

title: Title

keywords: fastai
sidebar: home_sidebar

summary: "summary"
description: "summary"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 00_downloader.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div align='left' style="width:29%;overflow:hidden;">
<a href='http://inria.fr'>
{% include image.html alt="Inria logo" title="Inria logo" file="https://github.com/lmarti/jupyter_custom/raw/master/imgs/inr_logo_rouge.png" %}
</a>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="CORD-19-dataset-downloader">CORD-19 dataset downloader<a class="anchor-link" href="#CORD-19-dataset-downloader"> </a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This notebook is meant to automate/simplify downloading the CORD-19 dataset from <a href="https://kaggle.com">kaggle.com</a>.</p>
<ul>
<li>We rely on <a href="https://github.com/Kaggle/kaggle-api">Kaggle's Python API</a>. It should be already installed by our requirements.</li>
<li>In order for it to work you need:<ul>
<li>A Kaggle account (you will need it anyway to access the data).</li>
<li>Configure your credentials so the API can authenticate (3 mins process).</li>
<li>Follow instructions here: <a href="https://medium.com/@ankushchoubey/how-to-download-dataset-from-kaggle-7f700d7f9198">https://medium.com/@ankushchoubey/how-to-download-dataset-from-kaggle-7f700d7f9198</a></li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Making sure that all requirements are installed.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>pip install -q -r requirements.txt
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">kaggle</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Preparing destination folder</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cord19_dataset_folder</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;./datasets/CORD-19-research-challenge&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cord19_dataset_folder</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Authenticating with kaggle.com</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">kaggle</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">authenticate</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Proceed to download the dataset. It is more than 1.7 Gb. <strong>This might take a while</strong></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">kaggle</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">dataset_download_files</span><span class="p">(</span><span class="s1">&#39;allen-institute-for-ai/CORD-19-research-challenge&#39;</span><span class="p">,</span> 
                                  <span class="n">path</span><span class="o">=</span><span class="n">cord19_dataset_folder</span><span class="p">,</span>
                                  <span class="n">quiet</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                  <span class="n">unzip</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>  0%|          | 0.00/1.70G [00:00&lt;?, ?B/s]</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Downloading CORD-19-research-challenge.zip to datasets/CORD-19-research-challenge
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>100%|██████████| 1.70G/1.70G [09:36&lt;00:00, 3.18MB/s]
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">metadata_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">cord19_dataset_folder</span><span class="si">}</span><span class="s2">/metadata.csv&quot;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="s2">&quot;cord_uid&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="sa">f</span><span class="s1">&#39;Total records loaded: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">metadata_df</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># this code is here for cosmetic reasons</span>
<span class="kn">from</span> <span class="nn">IPython.core.display</span> <span class="kn">import</span> <span class="n">HTML</span>
<span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">urlopen</span>
<span class="n">HTML</span><span class="p">(</span><span class="n">urlopen</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/lmarti/jupyter_custom/master/custom.include&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<link rel="stylesheet" href="https://files.inria.fr/dircom/extranet/fonts-inria-sans.css" rel="stylesheet">
<link rel="stylesheet" href="https://files.inria.fr/dircom/extranet/fonts-inria-serif.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet">
<style>
.text_cell_render {
    font-style: regular;
    font-family: 'Inria Sans', "Helvetica Neue", Arial, "Noto Sans", sans-serif;
    display: block;
}

.text_cell_render h1 {
    font-family: 'Inria Serif', Georgia, serif; 
    font-weight: bold;
    margin-bottom: 0.1em;
    margin-top: 0.5em;
    color:#E63319;
}

.reveal h1 {
    font-family: 'Inria Serif', Georgia, serif;
    font-weight: bold;
    margin-bottom: 0.47em;
    margin-top: 0.74em;
    color:#E63319;
}

.text_cell_render h2 {
    font-family: 'Inria Serif', Georgia, serif;
    margin-bottom: 0.29em;
    margin-top: 0.38em;
    color:#E63319;
}

.text_cell_render h3 {
    font-family: 'Inria Serif', Georgia, serif;
    margin-bottom: 0.1em;
    margin-top: 0.3em;
    color:#595959;
}
.text_cell_render h4 {
    font-family: 'Inria Sans', "Helvetica Neue", Arial, "Noto Sans", sans-serif;
    margin-bottom: 0.1em;
    margin-top: 0.3em;
    color:#595959;
}
.text_cell_render h5 {
    font-family: 'Inria Sans', "Helvetica Neue", Arial, "Noto Sans", sans-serif;
    margin-bottom: 0.1em;
    margin-top: 0.3em;
    color:#595959;
}

div.text_cell_render{
    line-height: 120%;
    font-size: 100%;
    font-weight: 400;
    text-align: justify;
    margin-left:0em;
    margin-right:0em;
}

.reveal div.text_cell_render{
    line-height: 120%;
    font-size: 74%;
    font-weight: 400;
    text-align: justify;
    margin-left:0em;
    margin-right:0em;
}

.reveal h2 {
    font-family: 'Inria Serif', Georgia, serif;
    font-weight: bold;
    margin-bottom: 0.1em;
    margin-top: 0.5em;
    color:#E63319;
}

.reveal h3 {
    font-family: 'Inria Serif', Georgia, serif;
    font-weight: bold;
    margin-bottom: 0.1em;
    margin-top: 0.5em;
    color:#595959;
}

.reveal h4 {
    font-family: 'Inria Sans', "Helvetica Neue", Arial, "Noto Sans", sans-serif;
    font-weight: bold;
    margin-bottom: 0.1em;
    margin-top: 0.5em;
    color:#595959;
}

.reveal .code_cell {
    font-size: 92%;
}

.reveal code {
font-family: 'Inconsolata', monospace;
}
.reveal pre {
font-family: 'Inconsolata', monospace;
}
code {
font-family: 'Inconsolata', monospace;
}
pre {
font-family: 'Inconsolata', monospace;
}
.CodeMirror{
font-family: "Inconsolata", monospace;
}
</style>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>

</div>
</div>
</div>
</div>
 

